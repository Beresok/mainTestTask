# mainTestTask

“Динамическая форма”
Необходимо реализовать универсальный компонент форм строящий форму по инфоблоку (свойствам инфоблока). Компонент должен обладать следующим функционалом:
	1.	Построение списка полей согласно свойствам информационного блока (строка, список, файл, число за все остальные + 1 балл к итоговой оценке);
	2.	Поля должны выглядеть соответствующе их типу пользовательского свойства (строка - текстовое поле; текст - текстареа; список - чекбоксы/селект/радио - в зависимости от настроек);
	3.	Поля должны выводиться по сортировке;
	4.	Форма должна включать в себя капчу;
	5.	Поля, отмеченные в ИБ как обязательные, должны быть отмечены как обязательные и в форме;
	6.	В случае успешного заполнения формы в ИБ должен создаться новый элемент с данными полученными из формы, по умолчанию элемент деактивирован;
	7.	В случае безуспешной отправки пользователю должно быть выведено сообщение об ошибке в заполнении полей и поля должны быть выделены (любым способом);
	8.	При успешной отправке формы должно уходить 2 сообщения - отправителю формы и администратору сайта с текстом: “Ваша заявка принята, ей присвоен номер #ID нового элемента инфоблока#” и “Поступила новая заявка с сайта. Номер заявки: #ID нового элемента инфоблока#” соответственно;
	9.	Не должно быть повторной отправки после перезагрузки страницы.
	10.	В параметрах компонента должны указываться поля, которые нельзя отправлять из формы (свойство “опубликовано”).
	11.	Незаполненные поля (в том числе не участвующие в форме) должны получать значения по умолчанию из настроек свойства.

Базовый набор полей формы:
	1.	Имя - обязательное, строка;
	2.	Телефон - обязательное, строка;
	3.	Email - обязательное, строка с проверкой на корректность введенных данных
	4.	Индекс - число
	5.	Город - выпадающий список, значения: Москва, Владимир, Тула, Тверь;
	6.	Адрес - обязательное, текст;
	7.	Тема обращения - выпадающий список, значения: вопрос, жалоба, предложение, другая (значение по умолчанию);
	8.	Сообщение - обязательное, текст;
	9.	Согласны ли вы на обработку ваших персональных данных - обязательное, список / флажки (чекбокс).
Решение - отображать поле типа список в виде списка, чекбоксов или радио должно приниматься согласно пользовательскому типу свойства в настройках ИБ.
В ходе проверки проверяющий может добавить любое доп. поле, любого типа.
Особой верстки не предполагается.
Компонент должен быть снабжен работающими файлами .parameters.php и .description.php.
В параметрах компонента должен задаваться ID инфоблока по которому строим формы.
Выборки списка и значений полей должны быть закешированы.
 
Решение задания должно быть оформлено в виде ссылки на репозиторий на github / bitbucket в котором будет сам компонент со всеми сопутствующими файлами (.description, .parameters, шаблон компонента и т.д.) и скрипт по созданию инфоблока со всеми базовыми полями-свойствами через API